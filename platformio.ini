; ============================================================================
; PlatformIO Project Configuration File
; ============================================================================
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Documentation: https://docs.platformio.org/page/projectconf.html
;
; Board References:
;   ESP8266: https://docs.platformio.org/en/stable/boards/index.html#espressif-8266
;   ESP32:   https://docs.platformio.org/en/stable/boards/index.html#espressif-32
;
; Usage:
;   - Select environment via default_envs below or PlatformIO status bar
;   - Use *-ota environments for Over-The-Air updates (set device IP first)
;   - Use regular environments for USB/Serial uploads
;
; ============================================================================

[platformio]
default_envs = huzzah

; ============================================================================
; Base Configuration (shared by all environments)
; ============================================================================
[env:base]
framework = arduino
lib_deps = 
    plapointe6/EspMQTTClient
    ArduinoOTA
monitor_speed = 115200
upload_speed = 460800

; ============================================================================
; ESP8266 Environments
; ============================================================================

; ----------------------------------------------------------------------------
; Adafruit HUZZAH ESP8266
; https://docs.platformio.org/en/stable/boards/espressif8266/huzzah.html
; ----------------------------------------------------------------------------
[env:huzzah]
extends = env:base
platform = espressif8266
board = huzzah

[env:huzzah-ota]
extends = env:huzzah
upload_protocol = espota
upload_port = 192.168.2.21  ; Set your device IP here
monitor_port = socket://192.168.2.21:23
extra_scripts = post:extra/monitor_delay.py
custom_monitor_connect_delay = 30

; ----------------------------------------------------------------------------
; WeMos D1 Mini Pro
; https://docs.platformio.org/en/stable/boards/espressif8266/d1_mini_pro.html
; ----------------------------------------------------------------------------
[env:d1_mini_pro]
extends = env:base
platform = espressif8266
board = d1_mini_pro

[env:d1_mini_pro-ota]
extends = env:d1_mini_pro
upload_protocol = espota
upload_port = 192.168.2.22  ; Set your device IP here
monitor_port = socket://192.168.2.22:23
extra_scripts = post:extra/monitor_delay.py
custom_monitor_connect_delay = 30

; ----------------------------------------------------------------------------
; WeMos D1 Mini (non-Pro)
; https://docs.platformio.org/en/stable/boards/espressif8266/d1_mini.html
; ----------------------------------------------------------------------------
[env:d1_mini]
extends = env:base
platform = espressif8266
board = d1_mini

[env:d1_mini-ota]
extends = env:d1_mini
upload_protocol = espota
upload_port = 192.168.2.23  ; Set your device IP here
monitor_port = socket://192.168.2.23:23
extra_scripts = post:extra/monitor_delay.py
custom_monitor_connect_delay = 30

; ----------------------------------------------------------------------------
; NodeMCU v2 (ESP-12E)
; https://docs.platformio.org/en/stable/boards/espressif8266/nodemcuv2.html
; ----------------------------------------------------------------------------
[env:nodemcuv2]
extends = env:base
platform = espressif8266
board = nodemcuv2

[env:nodemcuv2-ota]
extends = env:nodemcuv2
upload_protocol = espota
upload_port = 192.168.2.23  ; Set your device IP here
monitor_port = socket://192.168.2.23:23
extra_scripts = post:extra/monitor_delay.py
custom_monitor_connect_delay = 30

; ============================================================================
; ESP32 Environments
; ============================================================================

; ----------------------------------------------------------------------------
; ESP32 DevKit
; https://docs.platformio.org/en/stable/boards/espressif32/esp32dev.html
; ----------------------------------------------------------------------------
[env:esp32dev]
extends = env:base
platform = espressif32
board = esp32dev

[env:esp32dev-ota]
extends = env:esp32dev
upload_protocol = espota
upload_port = 192.168.2.50  ; Set your device IP here
monitor_port = socket://192.168.2.50:23
extra_scripts = post:extra/monitor_delay.py
custom_monitor_connect_delay = 30